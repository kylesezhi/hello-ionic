<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="A layout example with a side menu that hides on mobile, just like the Pure website.">
    <title>Hello Ionic</title>
<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <!--[if lte IE 8]>
        <link rel="stylesheet" href="css/layouts/side-menu-old-ie.css">
    <![endif]-->
    <!--[if gt IE 8]><!-->
        <link rel="stylesheet" href="css/layouts/side-menu.css">
    <!--<![endif]-->
    <script src="https://use.fontawesome.com/adcd6887ac.js"></script>
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/default.min.css">
    <script src="http://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script>
      var path = window.location.pathname;
      var num = parseInt(path.split("/").pop().charAt(0)); // current pagenum
      num += 1;
      var nextpage = num + ".html";
    </script>
</head>
<body>


<div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>

    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="#">Ionic</a>

            <ul class="pure-menu-list">
              <li class="pure-menu-item"><a href="index.html" class="pure-menu-link">About</a></li>
              <li class="pure-menu-item"><a href="1.html" class="pure-menu-link">Install Ionic</a></li>
              <li class="pure-menu-item"><a href="2.html" class="pure-menu-link">Send via GET</a></li>
              <li class="pure-menu-item"><a href="3.html" class="pure-menu-link">Send via DELETE</a></li>
              <li class="pure-menu-item"><a href="4.html" class="pure-menu-link">Send via POST</a></li>
              <li class="pure-menu-item"><a href="5.html" class="pure-menu-link">Mobile Badge</a></li>
              <li class="pure-menu-item"><a href="6.html" class="pure-menu-link">Conclusion</a></li>
            </ul>
        </div>
    </div>

    <div id="main">

        <div class="content">
            <h2 class="content-subhead">Mobile Only: App Badges</h2>
            <p>We mentioned the relationship between Cordova and Ionic before. Cordova has a rich ecosystem of plugins that we can use in our Ionic app. In this example, we will install a plugin that allows us to change the badge number on the application's icon based on the number of users in the list. It will look something like this:</p>
            <img src="img/14.png" class="pure-img-responsive" alt="">
            <p>Using <a href="https://www.thepolyglotdeveloper.com/2015/07/modify-the-badge-number-of-an-ionic-framework-app/">this tutorial as a base</a>, we start by installing the plugin in the folder of our Ionic application with this command:</p>
            <pre><code class="bash hljs" style="font-size: small">cordova plugin add https://github.com/katzer/cordova-plugin-badge.git</code></pre>
            <p>But we can't start using this plugin right away. We must first install a library, ng-cordova, which will allow us to access the goodness of this badge plugin from within Angular. We load ng-cordova in our main app view by including it <i>before</i> our inclusion of Cordova itself:</p>
            <img src="img/15.png" class="pure-img-responsive" alt="" width="450">
            <p>At this point, I must mention that choosing <i>which</i> ng-cordova to download and install is important. I found that because of deprication of function names, <a href="https://github.com/driftyco/ng-cordova/issues/1027">it was necessary to modify ng-cordova to work properly with this badge plugin</a>. To avoid this hassle, you can find my version of ng-cordova in the <a href="https://github.com/kylesezhi/496app">repo for this project in the js folder.</a></p>
            <p>In controllers.js, we pass in ngCordova so we can use our newly-installed badge plugin:</p>
            <img src="img/16.png" class="pure-img-responsive" alt="" width="550">
            <p>iOS requires that users explicitly give permission to applications to allow them to send notifications and show badges. We therefore start our controller for users with the request to the user for permission to show a badge:</p>
            <img src="img/17.png" class="pure-img-responsive" alt="" width="600">
            <p>Then after we have a number of users to put in the badge, we set the badge with the appropriate number after ensuring we have permission from the user:</p>
            <img src="img/18.png" class="pure-img-responsive" alt="" width="600">
            <p>And that is it! We have an updating badge that changes each time we open this view and make a request to the API.</p>
            <p>If there is a functionality you would like that is mobile only, have a Google for "plugin ionic [your feature] tutorial" and you will most certainly find something that will guide you on the right path.</p>
            
            
            <a class="pure-button pure-button-primary" onclick="window.open(nextpage,'_self');">Next <i class="fa fa-arrow-right"></i></a>
        </div>
    </div>
</div>





<script src="js/ui.js"></script>


</body>
</html>
